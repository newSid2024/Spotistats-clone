{"ast":null,"code":"var _jsxFileName = \"/Users/siddharthkeshar/Desktop/My_project/client/spotistats/src/pages/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet token = window.localStorage.getItem(\"token\");\naxios.defaults.baseURL = 'https://api.spotify.com/v1';\naxios.defaults.headers['Authorization'] = `Bearer ${token}`;\naxios.defaults.headers['Content-Type'] = 'application/json';\n\nconst getCurrentUserProfile = () => axios.get('/me');\n\nconst getCurrentUserPlaylists = function () {\n  let limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n  return axios.get(`/me/playlists?limit=${limit}`);\n};\n\nconst Profile = () => {\n  _s();\n\n  const [profile, setProfile] = useState(null);\n  const [playlists, setPlaylists] = useState(null);\n  const [token, setToken] = useState(\"\");\n  useEffect(() => {\n    const fetchData = async () => {\n      const userProfile = await getCurrentUserProfile();\n      setProfile(userProfile.data);\n      const userPlaylists = await getCurrentUserPlaylists();\n      setPlaylists(userPlaylists.data);\n    };\n\n    fetchData();\n  }, []);\n  console.log(profile);\n\n  if (!profile) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Loadding...     Try refreshing again \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 10\n    }, this);\n  }\n\n  const logout = () => {\n    setToken(\"\");\n    window.localStorage.removeItem(\"token\");\n    window.location.reload(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'left',\n      height: '100vh',\n      background: '#191414',\n      color: 'White'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"center\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"User Name:  \", profile.display_name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [profile.followers.total, \" Followers\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: playlists && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [playlists.total, \" Playlist\", playlists.total !== 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 4\n      }, this), profile.images.length && profile.images[0].url && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: profile.images[0].url,\n        alt: \"Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 2\n  }, this);\n};\n\n_s(Profile, \"7pDsYe8e95fWnLVISCggpR+N9a8=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","axios","token","window","localStorage","getItem","defaults","baseURL","headers","getCurrentUserProfile","get","getCurrentUserPlaylists","limit","Profile","profile","setProfile","playlists","setPlaylists","setToken","fetchData","userProfile","data","userPlaylists","console","log","logout","removeItem","location","reload","display","justifyContent","alignItems","height","background","color","display_name","followers","total","images","length","url"],"sources":["/Users/siddharthkeshar/Desktop/My_project/client/spotistats/src/pages/Profile.js"],"sourcesContent":["import React from 'react';\nimport { useState,useEffect} from 'react';\nimport axios from 'axios';\n\n\nlet token=window.localStorage.getItem(\"token\")\n\naxios.defaults.baseURL = 'https://api.spotify.com/v1';\naxios.defaults.headers['Authorization'] = `Bearer ${token}`;\naxios.defaults.headers['Content-Type'] = 'application/json';\n\nconst getCurrentUserProfile = () => axios.get('/me');\nconst getCurrentUserPlaylists = (limit = 20) => {\n\treturn axios.get(`/me/playlists?limit=${limit}`)\n  };\n\nconst Profile = () => {\n\n\tconst [profile, setProfile] = useState(null);\n\tconst [playlists, setPlaylists] = useState(null);\n\tconst [token,setToken]=useState(\"\");\n  \n\tuseEffect(() => {\n\t \n  \n\t  const fetchData = async () => {\n\t\t\n\t\t  const userProfile = await getCurrentUserProfile();\n\t\t  setProfile(userProfile.data);\n\t\t  const userPlaylists = await getCurrentUserPlaylists();\n          setPlaylists(userPlaylists.data);\n\t\t\n\t  };\n  \n\tfetchData();\n\n\t}, []);\n\tconsole.log(profile);\n\n\tif (!profile) {\n\t\treturn <div><h1>Loadding...     Try refreshing again </h1></div>;\n\t\t }\n\t\nconst logout=()=>{\n\tsetToken(\"\")\n\twindow.localStorage.removeItem(\"token\")\n\twindow.location.reload(false);\n\t}\n\t\nreturn (\n\t<div\n\tstyle={{\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'left',\n\t\theight: '100vh',\n\t\tbackground:'#191414',\n\t\tcolor:'White'\n\t}}> \n\t\n\n\t\t<center><h1>User Name:  {profile.display_name} </h1>\n\t\t<br></br>\n\n                <h2>{profile.followers.total} Followers</h2>\n\t\t\t\t<br></br>\n\t\t\t\t<h2>{playlists && (\n            <span>{playlists.total} Playlist{playlists.total !== 1 ? 's' : ''}</span> )}</h2>\n\t\t\t<br></br>\n\t\n                {profile.images.length && profile.images[0].url && (\n                  <img src={profile.images[0].url} alt=\"Avatar\"/>\n                )}\n\t\t\t\t{<div>\n\t\t\t\t\t{ <button  onClick={logout}>Logout</button>}</div>\t}\t\n\t\t\t\t</center>\n\t\t\n\t\t\n\t\n\t\t\n\t    \n\t </div>\n\t\n);\n};\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}